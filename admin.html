<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© | Global Deposit</title>
    <style>
        /* Ø³ØªØ§ÙŠÙ„ Ø®Ø§Øµ ÙˆÙ…Ø³ØªÙ‚Ù„ Ù„Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡ */
        body {
            background-color: #050505;
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            min-height: 100vh;
        }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, #111, #000);
            border-left: 1px solid #333;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        .logo {
            color: #FFD700;
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 40px;
            text-align: center;
            border-bottom: 1px solid #333;
            padding-bottom: 20px;
        }
        .menu-item {
            padding: 15px;
            cursor: pointer;
            border-radius: 8px;
            transition: 0.3s;
            color: #ccc;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .menu-item:hover, .menu-item.active {
            background: rgba(255, 215, 0, 0.1);
            color: #FFD700;
        }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            flex: 1;
            padding: 30px;
        }
        .header {
            font-size: 24px;
            margin-bottom: 30px;
            color: #FFD700;
            border-bottom: 1px solid #222;
            padding-bottom: 15px;
        }

        /* ÙƒØ±ÙˆØª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }
        .stat-card {
            background: #111;
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #333;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        .stat-num {
            font-size: 28px;
            font-weight: bold;
            color: #fff;
            margin-bottom: 5px;
        }
        .stat-label {
            color: #888;
            font-size: 14px;
        }

        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù‡Ø§Ù… */
        .tasks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        .task-card {
            background: #151515;
            border: 1px solid #333;
            border-radius: 12px;
            padding: 15px;
            position: relative;
            transition: 0.3s;
        }
        .task-card:hover {
            border-color: #FFD700;
        }
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        .avatar {
            width: 40px;
            height: 40px;
            background: #333;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #FFD700;
        }
        .screenshot-placeholder {
            width: 100%;
            height: 120px;
            background: #222;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
            margin-bottom: 15px;
            border: 1px dashed #444;
            font-size: 12px;
        }
        .btn-group {
            display: flex;
            gap: 10px;
        }
        .btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }
        .btn-approve {
            background: linear-gradient(45deg, #28a745, #218838);
            color: white;
        }
        .btn-approve:hover { opacity: 0.9; }
        
        .btn-reject {
            background: #dc3545;
            color: white;
        }
        .btn-reject:hover { background: #c82333; }

    </style>
</head>
<body>

    <div class="sidebar">
        <a href="index.html" style="text-decoration: none; color: inherit; margin-bottom: 20px; display: block;">
            <div class="menu-item" style="background: rgba(255, 215, 0, 0.15); border: 1px solid rgba(255, 215, 0, 0.4); color: #FFD700; font-weight: bold;">
                â¬…ï¸ Ø¹ÙˆØ¯Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ / Back to App
            </div>
        </a>
        <div class="logo">ğŸ‘‘ Admin Panel</div>
        <div class="menu-item active">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</div>
        <div class="menu-item">ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
        <div class="menu-item">ğŸ“ Ø§Ù„Ù…Ù‡Ø§Ù… (3)</div>
        <div class="menu-item">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
    </div>

    <div class="main-content">
        <div class="header">Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©</div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-num">1,245</div>
                <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</div>
            </div>
            <div class="stat-card">
                <div class="stat-num">$54,200</div>
                <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥ÙŠØ¯Ø§Ø¹Ø§Øª (BNB)</div>
            </div>
            <div class="stat-card">
                <div class="stat-num" style="color: #FFD700;">3</div>
                <div class="stat-label">Ù…Ù‡Ø§Ù… Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©</div>
            </div>
        </div>

        <h3 style="color: #ccc; margin-bottom: 20px; border-right: 3px solid #FFD700; padding-right: 10px; margin-top: 30px;">ğŸ’° Pending Deposits Management</h3>
        <div id="pendingDepositsContainer" style="display: grid; gap: 15px; margin-bottom: 30px;">
            <!-- Deposits will be loaded here -->
        </div>

        <h3 style="color: #ccc; margin-bottom: 20px; border-right: 3px solid #FFD700; padding-right: 10px; margin-top: 30px;">Ø·Ù„Ø¨Ø§Øª ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¯Ø±Ø¹ (Screenshots)</h3>

        <div class="tasks-grid">
            
            <div class="task-card" id="task1">
                <div class="user-info">
                    <div class="avatar">ğŸ‘¤</div>
                    <div>
                        <div style="font-weight: bold; color: #fff;">User_9928</div>
                        <div style="font-size: 12px; color: #777;">Ù…Ù†Ø° 10 Ø¯Ù‚Ø§Ø¦Ù‚</div>
                    </div>
                </div>
                <div class="screenshot-placeholder">
                    [ØµÙˆØ±Ø© Ø¥ÙŠØµØ§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙˆÙ‡Ù…ÙŠØ©]
                </div>
                <div class="btn-group">
                    <button class="btn btn-approve" onclick="approveTask('task1')">âœ… Ù‚Ø¨ÙˆÙ„ ÙˆØªÙØ¹ÙŠÙ„</button>
                    <button class="btn btn-reject" onclick="rejectTask('task1')">âŒ Ø±ÙØ¶</button>
                </div>
            </div>

            <div class="task-card" id="task2">
                <div class="user-info">
                    <div class="avatar">ğŸ‘¤</div>
                    <div>
                        <div style="font-weight: bold; color: #fff;">User_5511</div>
                        <div style="font-size: 12px; color: #777;">Ù…Ù†Ø° 25 Ø¯Ù‚ÙŠÙ‚Ø©</div>
                    </div>
                </div>
                <div class="screenshot-placeholder">
                    [ØµÙˆØ±Ø© Ø¥ÙŠØµØ§Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙˆÙ‡Ù…ÙŠØ©]
                </div>
                <div class="btn-group">
                    <button class="btn btn-approve" onclick="approveTask('task2')">âœ… Ù‚Ø¨ÙˆÙ„ ÙˆØªÙØ¹ÙŠÙ„</button>
                    <button class="btn btn-reject" onclick="rejectTask('task2')">âŒ Ø±ÙØ¶</button>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Admin Access Safety Guard (Front-end protection)
        (function() {
            // For demo purposes, set admin flag on first visit
            // In production, this should be server-side validated
            if (!localStorage.getItem('isAdmin')) {
                // Allow access for demo, but you can restrict here
                // localStorage.setItem('isAdmin', 'true');
            }
            
            // Uncomment below to enable strict access control:
            // const isAdmin = localStorage.getItem('isAdmin') === 'true';
            // if (!isAdmin) {
            //     alert('Access Restricted');
            //     window.location.href = 'index.html';
            //     return;
            // }
        })();

        function approveTask(cardId) {
            // 1. ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¯Ø±Ø¹ ÙÙŠ Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØªØµÙØ­
            // Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø³Ø­Ø±ÙŠ Ø§Ù„Ø°ÙŠ Ø³ÙŠÙ‚Ø±Ø£Ù‡ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
            localStorage.setItem('hasShield', 'true');

            // 2. Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙƒØ±Øª Ø¨Ø­Ø±ÙƒØ© Ù„Ø·ÙŠÙØ©
            const card = document.getElementById(cardId);
            card.style.transition = "all 0.5s ease";
            card.style.opacity = '0';
            card.style.transform = 'scale(0.9)';
            
            setTimeout(() => {
                card.remove();
                alert("âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¯Ø±Ø¹ Ø¨Ù†Ø¬Ø§Ø­!\n\nØ§Ù„Ø¢Ù† Ø§Ø±Ø¬Ø¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (index.html) ÙˆØ³ØªØ¬Ø¯ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¯Ø±Ø¹ Ø°Ù‡Ø¨ÙŠØ©.");
            }, 500);
        }

        function rejectTask(cardId) {
            if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø±ÙØ¶ Ø§Ù„Ù…Ù‡Ù…Ø©ØŸ")) {
                const card = document.getElementById(cardId);
                card.style.opacity = '0';
                setTimeout(() => card.remove(), 300);
            }
        }

        // PENDING DEPOSITS MANAGEMENT
        function loadPendingDeposits() {
            const container = document.getElementById('pendingDepositsContainer');
            if (!container) return;

            const pendingDeposits = JSON.parse(localStorage.getItem('pending_deposits') || '[]');
            
            if (pendingDeposits.length === 0) {
                container.innerHTML = '<div style="color: #888; text-align: center; padding: 20px;">No pending deposits</div>';
                return;
            }

            container.innerHTML = '';
            pendingDeposits.forEach((deposit, index) => {
                const card = document.createElement('div');
                card.className = 'task-card';
                card.id = `deposit-${index}`;
                card.innerHTML = `
                    <div class="user-info">
                        <div class="avatar">${deposit.user}</div>
                        <div>
                            <div style="color: #fff; font-weight: bold;">${deposit.user}</div>
                            <div style="color: #888; font-size: 12px;">${new Date(deposit.date).toLocaleString()}</div>
                        </div>
                    </div>
                    <div style="margin: 15px 0;">
                        <div style="color: #ccc; margin-bottom: 8px;"><strong>Tier:</strong> ${deposit.tier}</div>
                        <div style="color: #FFD700; font-size: 20px; font-weight: bold; margin-bottom: 8px;">$${deposit.amount}</div>
                        <div style="color: #888; font-size: 12px; font-family: monospace; word-break: break-all;"><strong>TXID:</strong> ${deposit.txid}</div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-approve" onclick="approveDeposit(${index})">Approve</button>
                        <button class="btn btn-reject" onclick="rejectDeposit(${index})">Reject</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }

        function approveDeposit(index) {
            const pendingDeposits = JSON.parse(localStorage.getItem('pending_deposits') || '[]');
            if (index >= pendingDeposits.length) return;

            const deposit = pendingDeposits[index];
            
            // Add amount to total balance
            const currentBalance = parseFloat(localStorage.getItem('totalBalance') || '0');
            const newBalance = currentBalance + deposit.amount;
            localStorage.setItem('totalBalance', newBalance.toString());

            // Remove from pending deposits
            pendingDeposits.splice(index, 1);
            localStorage.setItem('pending_deposits', JSON.stringify(pendingDeposits));

            // Remove card visually
            const card = document.getElementById(`deposit-${index}`);
            if (card) {
                card.style.transition = '0.3s';
                card.style.opacity = '0';
                card.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    card.remove();
                    loadPendingDeposits(); // Reload to update indices
                }, 300);
            }

            // Show success toast
            alert(`âœ… Deposit Approved â€” Balance Updated to $${newBalance.toFixed(2)}`);
        }

        function rejectDeposit(index) {
            const pendingDeposits = JSON.parse(localStorage.getItem('pending_deposits') || '[]');
            if (index >= pendingDeposits.length) return;

            // Remove from pending deposits
            pendingDeposits.splice(index, 1);
            localStorage.setItem('pending_deposits', JSON.stringify(pendingDeposits));

            // Remove card visually
            const card = document.getElementById(`deposit-${index}`);
            if (card) {
                card.style.transition = '0.3s';
                card.style.opacity = '0';
                setTimeout(() => {
                    card.remove();
                    loadPendingDeposits(); // Reload to update indices
                }, 300);
            }
        }

        // Load pending deposits on page load
        loadPendingDeposits();
        
        // Refresh every 3 seconds
        setInterval(loadPendingDeposits, 3000);
    </script>

</body>
</html>